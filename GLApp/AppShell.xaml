<?xml version="1.0" encoding="UTF-8" ?>
<Shell
    x:Class="GLApp.AppShell"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:local="clr-namespace:GLApp"
    BackgroundColor="#0d6f45"
    TitleColor="White">

    <!--Ð’ÐµÑ€Ñ…Ð½ÑÑ Ð¿Ð°Ð½ÐµÐ»ÑŒ: Ð¿Ð¾Ð¸ÑÐº + AI-->
    <Shell.TitleView>
        <Grid ColumnDefinitions="*,60" BackgroundColor="#0d6f45" HeightRequest="60">
            <!-- ÐŸÐ¾Ð¸ÑÐº -->
            <SearchBar Grid.Column="0"
                       x:Name="TopSearch"
                       BackgroundColor="#FFFFFF"
                       TextColor="#204C2C"
                       PlaceholderColor="#6B8F7B"
                       Margin="10,10"
                       CancelButtonColor="#6B8F7B"
                       TextChanged="OnSearchTextChanged"/>

            <!-- ÐšÐ½Ð¾Ð¿ÐºÐ° AI -->
            <Border Grid.Column="1"
                    x:Name="AiButton"
                    WidthRequest="44"
                    HeightRequest="44"
                    BackgroundColor="#FFFFFF"
                    HorizontalOptions="Center"
                    VerticalOptions="Center"
                    Margin="10"
                    Padding="0">
                <Border.StrokeShape>
                    <RoundRectangle CornerRadius="12" />
                </Border.StrokeShape>
                <Image Source="ai_icon.jpg" Aspect="AspectFill" />
                <Border.GestureRecognizers>
                    <TapGestureRecognizer Tapped="OnAiClicked" />
                </Border.GestureRecognizers>
            </Border>
        </Grid>
    </Shell.TitleView>

    <!-- Flyout Header -->
    <Shell.FlyoutHeader>
        <Grid BackgroundColor="#0d6f45" Padding="20,40,20,20">
            <StackLayout Spacing="10">
                <Label Text="ðŸŒ± Ð¡Ð¿Ñ€Ð°Ð²Ð¾Ñ‡Ð½Ð¸Ðº Ð¡Ð°Ð´Ð¾Ð²Ð¾Ð´Ð°" 
                       FontSize="24" 
                       FontAttributes="Bold" 
                       TextColor="White" 
                       HorizontalOptions="Center"/>
                <Label Text="Ð’Ð°Ñˆ Ð¿Ð¾Ð¼Ð¾Ñ‰Ð½Ð¸Ðº Ð² ÑÐ°Ð´Ð¾Ð²Ð¾Ð´ÑÑ‚Ð²Ðµ" 
                       FontSize="14" 
                       TextColor="#E8F5E8" 
                       HorizontalOptions="Center"/>
            </StackLayout>
        </Grid>
    </Shell.FlyoutHeader>

    <!-- Flyout Content -->
    <Shell.FlyoutContent>
        <ScrollView>
            
        </ScrollView>
    </Shell.FlyoutContent>

    <ShellContent Title="Ð“Ð»Ð°Ð²Ð½Ð°Ñ" ContentTemplate="{DataTemplate local:MainPage}"/>

</Shell>